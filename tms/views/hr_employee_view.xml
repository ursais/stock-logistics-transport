<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="view_employee_form_tms" model="ir.ui.view">
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form" />
        <field name="arch" type="xml">
            <xpath expr="//div[@name='button_box']" position="inside">
                <button
                    name="action_open_driver_license"
                    type="object"
                    class="oe_stat_button"
                    icon="fa-id-card"
                >
                    <field
                        name="license_expiration"
                        widget="statinfo"
                        string="Driver License"
                    />
                    <field name="license_ids" invisible="1" />
                </button>
            </xpath>
            <notebook position="inside">
                <page string="TMS" name="tms">
                    <group name="tms_left">
                        <field name="driver" />
                    </group>
                    <group name="tms_right">
                        <field
                            name="property_tms_advance_account_id"
                            attrs="{'required':[('driver','=',True)], 'invisible':[('driver','=',False)] }"
                        />
                        <field
                            name="property_tms_expense_negative_account_id"
                            attrs="{'required':[('driver','=',True)], 'invisible':[('driver','=',False)] }"
                        />
                    </group>
                </page>
            </notebook>
        </field>
    </record>
    <record id="tms_open_view_employee_list" model="ir.actions.act_window">
        <field name="name">Drivers</field>
        <field name="res_model">hr.employee</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="context">{"default_driver": True}</field>
        <field name="domain">[('driver','=',True)]</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">Click to add a new driver.
          </p>
            <p>With just a quick glance on Odoo driver screen, you
            can easily find all the information you need for each person;
            contact data, job position, availability, etc.
          </p>
        </field>
    </record>
</odoo>
